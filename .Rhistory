source("~/.active-rstudio-document", echo=TRUE)
source("~/.active-rstudio-document", echo=TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(spatstat)
library(raster)
library(spdep)
library(FNN)
library(grid)
library(gridExtra)
library(knitr)
library(kableExtra)
library(tidycensus)
library(classInt)
path <- 'https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/tree/main/Data/'
source("https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/functions.r")
path = 'https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/tree/main/Data/'
source("https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/functions.r")
path <- 'https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/tree/main/Data/'
source("https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/functions.r")
litter <- read.csv(path,'mdt-dataChennai.csv')
litter <- read.csv('https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/mdt-dataChennai.csv?token=GHSAT0AAAAAACM4UMDCHWVE3GTWH73C4EEYZOADMWQ')
View(litter)
litter <- read.csv('https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/mdt-dataChennai.csv?token=GHSAT0AAAAAACM4UMDCHWVE3GTWH73C4EEYZOADMWQ')
litter_p <- litter%>%
filter(master_material == 'PLASTIC')%>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326, agr = "constant")%>%
st_transform('ESRI:102271') %>%
distinct()
View(litter_p)
chen_bdry <- st_read("https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/chennai_slum_boundaries.kml?token=GHSAT0AAAAAACM4UMDCXXXHIKR7R32D4CMGZOAEF4A")
View(chen_bdry)
plot(chen_bdry)
boudnary <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')
View(boudnary)
plot(boudnary)
View(boudnary)
boudnary <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
st_transform('ESRI:102271') %>%
dplyr::select(id,geometry)
View(boudnary)
plot(boundary)
boudnary <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
st_transform('ESRI:102271')
plot(boundary())
plot(boundary)
boudnary <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')
boundary_transformed <- st_transform(boundary, crs = 'ESRI:102271')
boudnary <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
st_transform(crs = 'ESRI:102271')
chen_bdry <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
st_transform(crs = 'ESRI:102271')
print(chen_bdry)
plot(chen_bdry)
chen_bdry <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
dplyr::select(id,geometry)%>%
st_transform(crs = 'ESRI:102271')
plot(chen_bdry)
litter <- read.csv('https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/mdt-dataChennai.csv?token=GHSAT0AAAAAACM4UMDCHWVE3GTWH73C4EEYZOADMWQ')
litter_p <- litter%>%
filter(master_material == 'PLASTIC')%>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326, agr = "constant")%>%
st_transform('ESRI:3857') %>%
distinct()
chen_bdry <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
to_crs(crs=4326)%>%
dplyr::select(id,geometry)%>%
st_transform(crs = 'ESRI:102271')
chen_bdry <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
to_crs(crs=4326)%>%
dplyr::select(id,geometry)
chen_bdry <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
dplyr::select(id,geometry)
plot(litter_p[0])
chen_bdry <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
dplyr::select(id,geometry)
plot(chen_bdry[0])
litter <- read.csv('https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/mdt-dataChennai.csv?token=GHSAT0AAAAAACM4UMDCHWVE3GTWH73C4EEYZOADMWQ')
litter_p <- litter%>%
filter(master_material == 'PLASTIC')%>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326, agr = "constant")%>%
distinct()
plot(litter_p[0])
litter <- read.csv('https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/mdt-dataChennai.csv?token=GHSAT0AAAAAACM4UMDCHWVE3GTWH73C4EEYZOADMWQ')
litter_p <- litter%>%
filter(master_material == 'PLASTIC')%>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326, agr = "constant")%>%
distinct()
chen_bdry <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
dplyr::select(id,geometry)
litter <- read.csv('https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/mdt-dataChennai.csv?token=GHSAT0AAAAAACM4UMDCHWVE3GTWH73C4EEYZOADMWQ')
litter_p <- litter%>%
filter(master_material == 'PLASTIC')%>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326, agr = "constant")%>%
distinct()
chen_bdry <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
dplyr::select(id,geometry)
chen_slum_bdry <- st_read("https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/chennai_slum_boundaries.kml?token=GHSAT0AAAAAACM4UMDCXXXHIKR7R32D4CMGZOAEF4A")
path <- 'https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/tree/main/Data/'
source("https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/functions.r")
litter <- read.csv('https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/mdt-dataChennai.csv?token=GHSAT0AAAAAACM4UMDCHWVE3GTWH73C4EEYZOADMWQ')
litter_p <- litter%>%
filter(master_material == 'PLASTIC')%>%
st_as_sf(coords = c("longitude", "latitude"), crs = 4326, agr = "constant")%>%
distinct()
chen_bdry <- st_read('https://services.arcgis.com/hBEMHCkbQdfV906F/arcgis/rest/services/Administrative_boundaries_extract_for_Chennai_regional_level_/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson')%>%
dplyr::select(id,geometry)
chen_slum_bdry <- st_read("https://raw.githubusercontent.com/TrevorKap/MUSA810-Marine-Pollution/main/Data/chennai_slum_boundaries.kml?token=GHSAT0AAAAAACM4UMDCXXXHIKR7R32D4CMGZOAEF4A")
ggplot(litter_p %>%
group_by(imaster_item_name) %>%
tally())+
geom_histogram(aes(n), binwidth = 1)+
labs(title="Bike share trips per hr by station. Philly January, 2023",
x="Trip Counts",
y="Number of Stations")+
plotTheme
ggplot(litter_p %>%
group_by(master_item_name) %>%
tally())+
geom_histogram(aes(n), binwidth = 1)+
labs(title="Bike share trips per hr by station. Philly January, 2023",
x="Trip Counts",
y="Number of Stations")+
plotTheme
ggplot(litter_p %>%
group_by(master_item_name) %>%
tally())+
geom_histogram(aes(n), binwidth = 1)+
labs(title="Bike share trips per hr by station. Philly January, 2023",
x="Trip Counts",
y="Number of Stations")+
plotTheme()
temp <- litter_p %>%
group_by(master_item_name) %>%
tally()
View(temp)
View(temp)
ggplot(litter_p %>%
group_by(master_item_name) %>%
tally())+
geom_bar(x=master_item_name,y=n)+
labs(title="Bike share trips per hr by station. Philly January, 2023",
x="Trip Counts",
y="Number of Stations")+
plotTheme()
View(temp)
ggplot(litter_p, aes(x = master_item_name)) +
geom_bar() +
theme_minimal() +
labs(title = "Count Plot", x = "Category", y = "Count")
